"use strict";CanvasRenderingContext2D.prototype.multilineText=function(type,text,x,y,maxWidth,verticalSpacing){if(maxWidth===void 0){maxWidth=Number.MAX_VALUE}if(verticalSpacing===void 0){verticalSpacing=0}var lines=text.split("\n").map(function(text){return text.match(/([a-zA-Z'"]+|.)/g)||[]});var texts=[];for(var _i=0,lines_1=lines;_i<lines_1.length;_i++){var words=lines_1[_i];var sumWidth=0;texts.push("");for(var _a=0,words_1=words;_a<words_1.length;_a++){var word=words_1[_a];var mt=this.measureText(word);if(mt.width>maxWidth){for(var _b=0,word_1=word;_b<word_1.length;_b++){var c=word_1[_b];var mt_1=this.measureText(c);sumWidth+=mt_1.width;if(sumWidth<maxWidth){texts[texts.length-1]+=c}else{sumWidth=mt_1.width;texts.push(c)}}continue}sumWidth+=mt.width;if(sumWidth<maxWidth){texts[texts.length-1]+=word}else if(word!=" "){sumWidth=mt.width;texts.push(word)}}}var _c=this.font.match(/(\d+)px/),_=_c[0],fontSize=_c[1];var h=parseInt(fontSize)+verticalSpacing;var drawText="fill"==type?this.fillText.bind(this):this.strokeText.bind(this);for(var i=0;i<texts.length;i++){var text_1=texts[i];drawText(text_1,x,y+h*i)}};CanvasRenderingContext2D.prototype.fillMultilineText=function(text,x,y,maxWidth,verticalSpacing){if(maxWidth===void 0){maxWidth=Number.MAX_VALUE}if(verticalSpacing===void 0){verticalSpacing=0}this.multilineText("fill",text,x,y,maxWidth,verticalSpacing)};CanvasRenderingContext2D.prototype.strokeMultilineText=function(text,x,y,maxWidth,verticalSpacing){if(maxWidth===void 0){maxWidth=Number.MAX_VALUE}if(verticalSpacing===void 0){verticalSpacing=0}this.multilineText("stroke",text,x,y,maxWidth,verticalSpacing)};